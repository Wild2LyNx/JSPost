<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core">
   <head><title>IGNORED</title></head>
   <body>
      <ui:composition template="/templates/indexTemplate.xhtml">
         <ui:define name="windowTitle">
            #{user.user.firstName}&nbsp;#{user.user.lastName}&nbsp;#{user.user.address}
         </ui:define>
         <ui:define name="header_buttons"/>
         <ui:define name="header_user_info"/>
         <ui:define name="leftBlock"/>
         
         <ui:define name="content">
	         <section id="content">
        		<h3>#{msgs.reg_label}</h3>
	            <h:form>
	            	<h:messages styleClass="error_msgs" />
	               <h:panelGrid columns="3">
	                  #{msgs.first_name_label}
	                  <h:inputText id="first_name" value="#{user.user.firstName}" required="true" >
	                  	<f:ajax event="blur" render="first_name_err"/>
	                  </h:inputText>
	                  <h:message for="first_name" id="first_name_err" />
	                  #{msgs.last_name_label}
	                  <h:inputText id="last_name" value="#{user.user.lastName}" required="true">
	                  	<f:ajax event="blur" render="last_name_err"/>
	                  </h:inputText>
	                  <h:message for="last_name" id="last_name_err" />
	                  #{msgs.birth_label}
	                  <h:inputText type="date" id="birth_date" value="#{user.user.birthDate}" 
	                  converter="com.tsystems.jschool.web.convert.CalendarConverter" required="true">
	                  	<f:validateRequired />
	                  	<f:ajax event="blur" render="birth_date_err"/>
	                  </h:inputText>
	                  <h:message for="birth_date" id="birth_date_err" />
	                  #{msgs.address_label}
	                  <h:inputText id="address" value="#{user.user.address}" required="true">
	                  	<f:ajax event="blur" render="address_err"/>
	                  </h:inputText>
	                  <h:message for="address" id="address_err" />
	                  #{msgs.phone_label}
	                  <h:inputText required="true" id="phone" value="#{user.user.phone}">
	                  	<f:validateLongRange/>
	                  	<f:ajax event="blur" render="phone_err"/>
	                  </h:inputText>
	                  <h:message for="phone" id="phone_err" />
	                  #{msgs.password_label}
	                  <h:inputSecret id="password" value="#{user.user.password}" required="true">
	                  	<f:ajax event="blur" render="password_err"/>
	                  </h:inputSecret>
	                  <h:message for="password" id="password_err" />
	               </h:panelGrid>
	               <p>
	                  <h:commandButton value="#{msgs.reg_btn}"
	                                   action="#{user.doRegister}"/>
	               </p>
	            </h:form>
	         </section>
         </ui:define>
      </ui:composition>
   </body>
</html>